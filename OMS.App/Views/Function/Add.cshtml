@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var _GroupList = (List<Samsonite.OMS.Database.SysFunctionGroup>)ViewData["group_list"];
}
<div class="main">
    <div class="main_edit">
        <form id="subform" method="post">
            <table class="table">
                <tbody>
                    <tr>
                        <th>
                            <span class="color_danger">*</span>功能名称：
                        </th>
                        <td>
                            <input name="FuncName" type="text" class="easyui-textbox input-xlarge" />
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <span class="color_danger">*</span>所属菜单组：
                        </th>
                        <td>
                            <select name="GroupID" class="easyui-combobox">
                                @{
                                    foreach (Samsonite.OMS.Database.SysFunctionGroup _o in _GroupList)
                                    {
                                        <option value="@_o.Groupid">@_o.GroupName</option>
                                    }
                                }
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th>
                            类型：
                        </th>
                        <td>
                            <input id="FuncType_1" name="FuncType" type="radio" value="1" checked="checked"><label for="FuncType_1">菜单</label>
                            <input id="FuncType_2" name="FuncType" type="radio" value="2"><label for="FuncType_2">功能</label>
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <span class="color_danger">*</span>功能标识：
                        </th>
                        <td>
                            <input name="FuncSign" type="text" class="easyui-textbox input-large" />
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <span class="color_danger">*</span>默认地址：
                        </th>
                        <td>
                            <input name="FuncUrl" type="text" class="easyui-textbox input-xlarge" />
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <span class="color_danger">*</span>权限：
                        </th>
                        <td>
                            <div class="common-list">
                                <ul>
                                    <li>
                                        <i class="fa fa-close color_danger pointer" onclick="del_power($(this))"></i><span>名称：</span><input name="PowerName" type="text" value="Search" class="easyui-text input-medium" /><span>值：</span><input name="PowerValue" type="text" value="index" class="easyui-text input-medium" />
                                    </li>
                                    <li>
                                        <i class="fa fa-close color_danger pointer" onclick="del_power($(this))"></i><span>名称：</span><input name="PowerName" type="text" value="Add" class="easyui-text input-medium" /><span>值：</span><input name="PowerValue" type="text" value="add" class="easyui-text input-medium" />
                                    </li>
                                    <li>
                                        <i class="fa fa-close color_danger pointer" onclick="del_power($(this))"></i><span>名称：</span><input name="PowerName" type="text" value="Modify" class="easyui-text input-medium" /><span>值：</span><input name="PowerValue" type="text" value="edit" class="easyui-text input-medium" />
                                    </li>
                                    <li>
                                        <i class="fa fa-close color_danger pointer" onclick="del_power($(this))"></i><span>名称：</span><input name="PowerName" type="text" value="Delete" class="easyui-text input-medium" /><span>值：</span><input name="PowerValue" type="text" value="delete" class="easyui-text input-medium" />
                                    </li>
                                </ul>
                            </div>
                            <input id="add-button" type="button" value="添加权限" class="btn btn-warning" />
                        </td>
                    </tr>
                    <tr class="display_none">
                        <th>
                            <span class="color_danger">*</span>链接方式：
                        </th>
                        <td>
                            <select name="FuncTarget" class="easyui-combobox">
                                <option value="iframe">iframe</option>
                                <option value="blank">blank</option>
                                <option value="self">self</option>
                                <option value="parent">parent</option>
                                <option value="top">top</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <span class="color_danger">*</span>状态：
                        </th>
                        <td>
                            <input id="IsShow_1" name="IsShow" type="radio" value="1" checked="checked"><label for="IsShow_1">显示</label>
                            <input id="IsShow_2" name="IsShow" type="radio" value="0"><label for="IsShow_2">隐藏</label>
                        </td>
                    </tr>
                    <tr>
                        <th>
                            简要描述：
                        </th>
                        <td>
                            <textarea name="FuncMemo" class="easyui-textarea  input-xlarge" style="height:100px;"></textarea>
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>
</div>
@section scripts {
    <script type="text/javascript">
        $(function () {
            $('#add-button').bind('click', function () {
                $('.common-list ul').append('<li><i class="fa fa-close color_danger pointer" onclick="del_power($(this))"></i><span>名称：</span><input name="PowerName" type="text" class="easyui-text input-medium" /><span>值：</span><input name="PowerValue" type="text" class="easyui-text input-medium" /></li>');
            });
        });

        function del_power(object) {
            $o = object.parent().remove();
        }
    </script>
}

